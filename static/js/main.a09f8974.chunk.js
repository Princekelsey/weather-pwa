(window["webpackJsonpweathercheck-pwa"]=window["webpackJsonpweathercheck-pwa"]||[]).push([[0],{27:function(e,t,a){e.exports=a(59)},32:function(e,t,a){},33:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(32),a(33),a(34),a(35),a(4)),l=a(24),u=a(11);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var m={openWeather:{cityName:"",description:"",temp:"",icon:""},apixuWeather:{temp:"",feel:"",icon:"",humidity:"",visibility:"",forecast:[]},isLoading:!1,error:null,cordinates:{lat:0,lon:0,locationName:"Tallinn"}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_LOADING":return d({},e,{isLoading:!0});case"GET_LOCATION":return d({},e,{cordinates:n});case"GET_WEATHER_BY_LOCATION1":return d({},e,{isLoading:!1,openWeather:n});case"GET_WEATHER_BY_LOCATION2":return d({},e,{isLoading:!1,apixuWeather:n});case"GET_WEATHER_BY_CITY1":return d({},e,{isLoading:!1,openWeather:n});case"GET_WEATHER_BY_CITY2":return d({},e,{isLoading:!1,apixuWeather:n});case"SET_ERROR":return d({},e,{isLoading:!1,error:n});default:return e}},f=[l.a],h=Object(i.d)(p,Object(i.c)(i.a.apply(void 0,f),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),E=a(1),y=a(9),b=function(){return r.a.createElement("div",{className:"spinner-border text-danger",role:"status",style:{margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading..."))},O=function(){return r.a.createElement("div",{className:"center text-white"},r.a.createElement("h3",null,"Error getting Weatherinformation"),r.a.createElement("p",null,"Please make sure your location gps is enabled and give application access"))},g=a(3),v=a.n(g),w=a(7),N=(a(26),"30f2e970b268622a6f540af7de8dff1b"),j="28eebc0ec56a40d6a59190936191708",_=a(8),x=a.n(_),T=function(){return{type:"SET_LOADING"}};function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var R=function(e){var t=e.calCelcius,a=e.today,c=Object(n.useState)({lati:0,long:0}),o=Object(y.a)(c,2),i=o[0],l=o[1],s=Object(n.useState)(!1),d=Object(y.a)(s,2),m=d[0],p=d[1],f=Object(E.c)(function(e){return e.openWeather.cityName}),h=Object(E.c)(function(e){return e.error}),g=Object(E.c)(function(e){return e.openWeather.description}),_=Object(E.c)(function(e){return t(e.openWeather.temp)}),R=Object(E.c)(function(e){return e.apixuWeather.temp}),k=Object(E.c)(function(e){return e.isLoading}),S=Object(E.c)(function(e){return e.cordinates.locationName}),C=Object(E.c)(function(e){return e.openWeather.icon}),L=Object(E.b)(),A=function(){return L(function(){var e=Object(w.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(T()),e.next=4,x.a.get("https://api.ip2loc.com/IxHtXPOBATWj1ktY7QjZGO6NYTBghl8J/detect").then(function(e){var a={lat:e.data.location.latitude,lon:e.data.location.longitude,locationName:e.data.location.city};t({type:"GET_LOCATION",payload:a})}).catch(function(e){t({type:"SET_ERROR",payload:e})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},D=function(e){return L(function(e){return function(){var t=Object(w.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="http://api.apixu.com/v1/forecast.json?key=".concat(j,"&q=").concat(e," &days=3"),a(T()),t.next=4,x.a.get(n).then(function(e){var t={temp:Math.floor(e.data.current.temp_c),feel:Math.floor(e.data.current.feelslike_c),icon:e.data.current.condition.icon,humidity:e.data.current.humidity,visibility:e.data.current.vis_km,forecast:e.data.forecast.forecastday};a({type:"GET_WEATHER_BY_LOCATION2",payload:t})}).catch(function(e){a({type:"SET_ERROR",payload:e})});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(e))},P=function(e,t){return L(function(e,t){return function(){var a=Object(w.a)(v.a.mark(function a(n){var r;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r="http://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(N),n(T()),a.next=4,x.a.get(r).then(function(e){var t={cityName:e.data.name,description:e.data.weather[0].description,temp:e.data.main.temp,icon:e.data.weather[0].icon};n({type:"GET_WEATHER_BY_LOCATION1",payload:t})}).catch(function(e){n({type:"SET_ERROR",payload:e})});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}(e,t))};Object(n.useEffect)(function(){G(),A(),I()},[i.lati]);var I=function(){P(i.lati,i.long),D(S)},G=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(M):p(!0)},M=function(e){l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},i,{lati:e.coords.latitude,long:e.coords.longitude}))};return r.a.createElement("div",{className:"container text-center py-4 landing"},k?r.a.createElement(b,null):r.a.createElement("div",{className:"bg-transparent text-white"},r.a.createElement("div",{className:" text-white py-4 "},r.a.createElement("h1",null,f,r.a.createElement("span",null,r.a.createElement("button",{type:"button",className:"btn btn-secondary ml-4 ","data-toggle":"modal","data-target":"#formModal"},"Change location"))),r.a.createElement("h4",{className:""}," ",g),r.a.createElement("h6",null,a)),r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(C,"@2x.png"),className:"",alt:"Weather icon"}),r.a.createElement("div",{className:""},r.a.createElement("h1",null,_?r.a.createElement("span",{className:"px-4 "},_,"\xb0"):null,R?r.a.createElement("span",{className:"px-4 "},R,"\xb0"):null))),m||h?r.a.createElement(O,null):null)},k=function(e){var t=e.calCelcius,a=Object(E.c)(function(e){return e.openWeather.icon}),n=Object(E.c)(function(e){return e.apixuWeather.feel}),c=Object(E.c)(function(e){return e.apixuWeather.humidity}),o=Object(E.c)(function(e){return e.apixuWeather.visibility}),i=Object(E.c)(function(e){return t(e.openWeather.temp)}),l=Object(E.c)(function(e){return e.apixuWeather.temp}),u=Object(E.c)(function(e){return e.apixuWeather.forecast}),s=Object(E.c)(function(e){return e.isLoading}),d=Object(E.c)(function(e){return e.openWeather.description}),m=Object(E.c)(function(e){return e.error});return r.a.createElement("div",null,0!==u.length||s?r.a.createElement("div",{className:" card-deck "},r.a.createElement("div",{className:"card bg-transparent shadow-lg"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title  text-warning "},"Details"),r.a.createElement("hr",{className:"hr-ab"}),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",null,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(a,"@2x.png"),className:"",alt:"..."})),r.a.createElement("div",{className:"ml-4 text-center"},r.a.createElement("p",{className:"card-text text-white "},"Feels like : ",n,"\xb0"),r.a.createElement("p",{className:"card-text text-white "},"Humdity : ",c,"%"),r.a.createElement("p",{className:"card-text text-white "},"Visibility : ",o," km")),r.a.createElement("div",null)),r.a.createElement("p",{className:"card-text py-4 text-white"},"Today - ",d," currently, it's ",i,"\xb0 and ",l,"\xb0 from two weather forecast"))),r.a.createElement("div",{className:"card bg-transparent shadow-lg "},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title text-warning"},"Forecast"),r.a.createElement("hr",{className:"hr-ab"}),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center text-center text-white"},u.map(function(e){return r.a.createElement("div",{key:e.day.uv},r.a.createElement("div",{className:"py-4"},e.date),r.a.createElement("div",null,r.a.createElement("img",{src:e.day.condition.icon,className:"",alt:"..."})),r.a.createElement("div",{className:""},Math.floor(e.day.avgtemp_c),"\xb0"),r.a.createElement("p",null,e.day.condition.text))}))))):r.a.createElement(b,null),m&&null)},S=function(){var e=Object(n.useState)(""),t=Object(y.a)(e,2),a=t[0],c=t[1],o=Object(E.b)(),i=function(e){return o(function(e){return function(){var t=Object(w.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="http://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(N),a(T()),t.next=4,x.a.get(n).then(function(e){var t={cityName:e.data.name,description:e.data.weather[0].description,temp:e.data.main.temp,icon:e.data.weather[0].icon};a({type:"GET_WEATHER_BY_CITY1",payload:t})}).catch(function(e){a({type:"SET_ERROR",payload:e})});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(e))},l=function(e){return o(function(e){return function(){var t=Object(w.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="http://api.apixu.com/v1/forecast.json?key=".concat(j,"&q=").concat(e," &days=3"),a(T()),t.next=4,x.a.get(n).then(function(e){var t={temp:Math.floor(e.data.current.temp_c),feel:Math.floor(e.data.current.feelslike_c),icon:e.data.current.condition.icon,humidity:e.data.current.humidity,visibility:e.data.current.vis_km,forecast:e.data.forecast.forecastday};a({type:"GET_WEATHER_BY_CITY2",payload:t})}).catch(function(e){a({type:"SET_ERROR",payload:e})});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(e))};return r.a.createElement("div",{className:"modal fade",id:"formModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"City Name"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"input-group input-group-sm mb-3"},r.a.createElement("div",{className:"input-group-prepend"}),r.a.createElement("input",{"aria-label":"choose city",type:"text",className:"form-control",placeholder:"City Name",onChange:function(e){c(e.target.value),console.log(e.target.value)},value:a}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){i(a),l(a),c("")}},"Get Weather")))))};var C=function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=e.getMonth(),n=e.getDay();e="".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n],", ").concat(t,"   ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a]," ");var c=function(e){return Math.floor(e-273.15)};return r.a.createElement(E.a,{store:h},r.a.createElement("div",{className:"container "},r.a.createElement(R,{calCelcius:c}),r.a.createElement(k,{calCelcius:c}),r.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.a09f8974.chunk.js.map